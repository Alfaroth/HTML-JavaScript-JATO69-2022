<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>To Do List</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>
    <link rel="stylesheet" href="./css/style.css">
</head>

<body>

    <h1>To-Do List</h1>
    <p>Inserisci qualcosa da fare</p>

    <input type="text" placeholder="Inserisci qualcosa" id="campoInput">

    <button id="btn">Inserisci</button>

    <div>
        <ul id="demo"></ul>
    </div>
    

    <script>

        var demo = document.querySelector('#demo');
        var btn = document.querySelector('#btn');

        function aggiungiCosa(){

            // demo.innerHTML += '<li>' + toDo + '</li>';

            var toDo = document.querySelector('#campoInput').value;

            var li = document.createElement('li');
            li.textContent = toDo;

            li.onclick = function(){
            //li.firstElementChild.setAttribute('class', 'txtBarrato');
            li.firstElementChild.classList.toggle('txtBarrato'); //toogle fa da interruttore sulla classe
            }

            // creare il pulsante per eliminare

            var elimNode = document.createElement('span');
            elimNode.innerHTML = " X ";

            elimNode.onclick = function() { // elimina tutto li
                li.setAttribute('class', 'animate__animated animate__fadeOutLeft');
                
                //dopo due secondi esegue questa 
                setTimeout(() => {
                    demo.removeChild(li);}, 500);

            }

            li.appendChild(elimNode);

            demo.appendChild(li);
        }

        btn.addEventListener('click', aggiungiCosa, false);   

    </script>

</body>

</html>